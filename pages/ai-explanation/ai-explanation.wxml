<!-- pages/ai-explanation/ai-explanation.wxml -->

<scroll-view class="page-scroll" scroll-y="true" enable-back-to-top="true">
  <view class="safe-area">
    
    <!-- é”™è¯¯çŠ¶æ€ -->
    <view class="error-container" wx:if="{{hasError}}">
      <view class="error-icon">âš ï¸</view>
      <view class="error-message">{{errorMessage}}</view>
      <button class="btn btn-retry" bindtap="onGoBack">è¿”å›</button>
    </view>
    
    <!-- æ­£å¸¸å†…å®¹ -->
    <view wx:else>
      

      
      <!-- ç®€åŒ–çš„å•è¯ä¿¡æ¯ -->
      <view class="word-simple-card">
        <view class="word-image">{{wordData.image || 'ğŸ“š'}}</view>
        <view class="word-content">
          <view class="word-text">{{word}}</view>
          <view class="word-meaning" wx:if="{{wordData.chinese}}">{{wordData.chinese}}</view>
        </view>
      </view>
      
      <!-- AIè®²è§£å†…å®¹åŒºåŸŸ -->
      <view class="ai-explanation-container">
        
        <!-- LoadingçŠ¶æ€ -->
        <view class="ai-loading-section" wx:if="{{isLoadingAI}}">
          <view class="loading-header">
            <view class="loading-robot">ğŸ¤–</view>
            <view class="loading-title">é­”æ³•è€å¸ˆæ­£åœ¨å‡†å¤‡è®²è§£</view>
          </view>
          <view class="loading-text">{{loadingText}}</view>
          <view class="loading-animation">
            <view class="loading-dots">
              <view class="dot"></view>
              <view class="dot"></view>
              <view class="dot"></view>
            </view>
          </view>
        </view>
        
        <!-- AIè®²è§£å†…å®¹ -->
        <view class="ai-content-section" wx:else>
          <view class="ai-explanation-content">
            <text class="explanation-text">{{aiExplanation}}</text>
          </view>
          
          <!-- æ“ä½œæŒ‰é’® - Neo-Brutalismè®¾è®¡ -->
          <view class="ai-actions neo-brutalism-buttons">
            <button class="neo-btn neo-btn-secondary" bindtap="onGoBack">
              <view class="neo-btn-icon">â¬…ï¸</view>
              <view class="neo-btn-text">è¿”å›</view>
            </button>
          </view>
        </view>
        
      </view>
      
    </view>
    
  </view>
</scroll-view>